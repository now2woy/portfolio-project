<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.jineddy.board.mapper.BrdCfgMapper">

<!-- !!!!! -->
<!-- 1. 건수 조회 -->
<!-- !!!!! -->
<!-- 목록 조회 : 게시판 설정 -->
	<select id="selectCountAll" parameterType="kr.co.jineddy.board.service.dto.BrdCfgInternalDto" resultType="Long">
		/* kr.co.jineddy.board.mapper.BrdCfgMapper.selectCountAll */
			SELECT
				COUNT(*) AS CNT
			FROM brd_cfg_mst A
			WHERE 1 = 1
		<if test='@org.apache.commons.lang3.StringUtils@isNotEmpty( brdNm )'>
			AND A.brd_nm LIKE CONCAT('%', #{brdNm}, '%')
		</if>
		<if test='@org.apache.commons.lang3.StringUtils@isNotEmpty( delYn )'>
			AND A.del_yn = #{delYn}
		</if>
	</select>
	
	
	
<!-- !!!!! -->
<!-- 2. 목록 조회 -->
<!-- !!!!! -->
<!-- 목록 조회 : 게시판 설정 -->
	<select id="selectPageAll" parameterType="kr.co.jineddy.board.service.dto.BrdCfgInternalDto" resultType="kr.co.jineddy.board.api.dto.BrdCfgResponseDto">
		/* kr.co.jineddy.board.mapper.BrdCfgMapper.selectPageAll */
			SELECT
				A.brd_id
				, A.brd_nm
				, A.brd_ty_cd
				, A.allow_reply_yn
				, A.atch_file_yn
				, A.del_yn
				, A.ins_dt
				, A.ins_id
				, A.upd_dt
				, A.upd_id
			FROM brd_cfg_mst A
			WHERE 1 = 1
		<if test='@org.apache.commons.lang3.StringUtils@isNotEmpty( brdNm )'>
			AND A.brd_nm LIKE CONCAT('%', #{brdNm}, '%')
		</if>
		<if test='@org.apache.commons.lang3.StringUtils@isNotEmpty( delYn )'>
			AND A.del_yn = #{delYn}
		</if>
			ORDER BY A.upd_dt DESC
			LIMIT #{pageSize}
			OFFSET #{offset}
	</select>
	
	
	
<!-- !!!!! -->
<!-- 3. 단건 조회 -->
<!-- !!!!! -->
	
	
	
</mapper>